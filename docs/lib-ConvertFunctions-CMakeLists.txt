set(SOURCE_FILES
        ConvertBinaryToLabel.cpp
        ConvertLabelToCvMat.cpp
        ConvertRGBToLabel.cpp
        ConvertSlicerToLabel.cpp
        IsImageBinary.cpp
        ReadUnknownImageType.cpp
        )

include_directories(${PROJECT_SOURCE_DIR}/include)

################################################################################
# nscale
set(nscalesrcdir ${CMAKE_BINARY_DIR}/app/nscale/src)
set(nscalebuilddir ${CMAKE_BINARY_DIR}/app/nscale-proj-prefix/src/nscale-proj-build)

#includes
include_directories(${nscalesrcdir}/segment)
include_directories(${nscalesrcdir}/segment/cuda)
include_directories(${nscalesrcdir}/common)
include_directories(${nscalesrcdir}/features)
include_directories(${nscalesrcdir}/normalization)
include_directories(${CMAKE_SOURCE_DIR}/lib/ConvertFunctions)

link_directories(${nscalebuilddir}/lib)

################################################################################
# build local libraries
#add_library(ConvertFunctions ${SOURCE_FILES})

foreach (item ${SOURCE_FILES})
        set(cepp ${item})
        add_executable(${cepp} ${cepp}.cpp)
        target_link_libraries(${cepp} segment featuresAll) # add libs
        add_dependencies(${cepp} nscale-proj) # make nscale available to cxx
endforeach ()
